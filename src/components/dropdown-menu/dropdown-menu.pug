include ../button/button

mixin dropdown-menu(options)
  -
    const {
      counters = [0, 0, 0],
      isOpened = false,
      type = 'guests'
    } = options || {}

  if type === 'rooms'
    -
      var items = ['спальни', 'кровати', 'ванные комнаты']
      var hasButtons = false

  if type === 'guests'
    -
      var items = ['взрослые', 'дети', 'младенцы']
      var hasButtons = true

  -
    var classes = ''
    classes += isOpened ? ' dropdown-menu_opened' : ''
    classes += ' dropdown-menu_type-' + type

  .dropdown-menu.js-dropdown-menu(class=classes)
    .dropdown-menu__input.js-dropdown-menu__input
      block
    .dropdown-menu__menu
      ul.dropdown-menu__list
        each item, index in items 
          li.dropdown-menu__item.js-dropdown-menu__item
            span.dropdown-menu__item-name= item
            button.dropdown-menu__counter-button.js-dropdown-menu__counter-button(
              type='button'
            ) -
            span.dropdown-menu__counter.js-dropdown-menu__counter= counters[index]
            button.dropdown-menu__counter-button.js-dropdown-menu__counter-button(
              type='button'
            ) +
      if hasButtons
        .dropdown-menu__buttons
          .dropdown-menu__clear-button.js-dropdown-menu__clear-button
            +button({type: 'link', theme: 'link', text: 'очистить', type:'button'})
          .dropdown-menu__apply-button.js-dropdown-menu__apply-button
            +button({type: 'link', theme: 'link', text: 'применить', type:'button'})
